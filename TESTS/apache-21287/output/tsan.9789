==================
WARNING: ThreadSanitizer: data race (pid=9789)
  Write of size 4 at 0x7fc5084ac024 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7fc5084ac024 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9793, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9792, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=9789)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=9791, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=9789)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12 (mutexes: write M14):
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:794:14 (httpd+0x0000005779ac)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Mutex M14 (0x7fc5085ec000) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 proc_mutex_proc_pthread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:388:15 (libapr-0.so.0+0x00000005bacd)
    #2 proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:822:15 (libapr-0.so.0+0x00000005e0a2)
    #3 apr_proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:845:15 (libapr-0.so.0+0x00000005de16)
    #4 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1667:10 (httpd+0x00000056fd47)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Thread T12 (tid=9803, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=9789)
  Write of size 4 at 0x00000164cc70 by main thread:
    #0 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:317:9 (httpd+0x000000575f24)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc70 by thread T2:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:910:13 (httpd+0x000000576947)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'workers_may_exit' of size 4 at 0x00000164cc70 (httpd+0x00000164cc70)

  Thread T2 (tid=9792, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:317 signal_threads
==================
==================
WARNING: ThreadSanitizer: data race (pid=9789)
  Read of size 4 at 0x00000164cc94 by thread T2:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T2 (tid=9792, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=9803, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
ThreadSanitizer: reported 5 warnings
