==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Write of size 4 at 0x7f33424f3034 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f33424f3034 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=1399, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=1398, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x00000164d990 by thread T4:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164d990 by thread T10:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164d990)

  Thread T4 (tid=1400, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x00000164d9c0 by thread T4:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164d9c0 by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164d9c0)

  Thread T4 (tid=1400, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Write of size 4 at 0x00000164cc58 by thread T11:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948:9 (httpd+0x000000576c3b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x00000164cc58 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:711:13 (httpd+0x000000577307)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'requests_this_child' of size 4 at 0x00000164cc58 (httpd+0x00000164cc58)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=1409, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948 worker_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Write of size 4 at 0x7d3000017cf0 by thread T10:
    #0 write_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016:13 (httpd+0x0000004c869a)
    #1 cache_write_entity_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:272:13 (httpd+0x0000004bea93)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:769:14 (httpd+0x0000004bb237)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x7d3000017cf0 by thread T5 (mutexes: write M11):
    #0 open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588:13 (httpd+0x0000004c5252)
    #1 cache_run_open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:310:1 (httpd+0x0000004be5d9)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:187:23 (httpd+0x0000004bdb34)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000017c40 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Mutex M11 (0x7d90000306a0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 apr_thread_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/thread_mutex.c:91:15 (libapr-0.so.0+0x00000005f508)
    #2 mem_cache_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1079:9 (httpd+0x0000004c4163)
    #3 ap_run_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:128:1 (httpd+0x00000057bfa9)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:649:13 (httpd+0x00000059442e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=1401, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016 write_body
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x7d200002bca0 by thread T5:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783:43 (httpd+0x0000004c7012)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200002bca0 by thread T11:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200002bc80 allocated by thread T11:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=1401, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 1 at 0x7d1800074d77 by thread T5:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1800074d70 by thread T11:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d1800074d60 allocated by thread T11:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=1401, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 1 at 0x7d600003f428 by thread T5:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 table_mergesort /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063:21 (libapr-0.so.0+0x00000002b600)
    #2 apr_table_compress /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1125:18 (libapr-0.so.0+0x000000029e5f)
    #3 apr_table_overlap /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1244:5 (libapr-0.so.0+0x00000002bcc1)
    #4 ap_add_common_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:320:7 (httpd+0x0000005ad832)
    #5 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:519 (libphp4.so+0x00000014c684)
    #6 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600003f428 by thread T11:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600003f400 allocated by thread T11:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=1401, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063 table_mergesort
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x7d200001ba08 by thread T7:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784:46 (httpd+0x0000004c70aa)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200001ba08 by thread T10:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200001ba00 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1404, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 1 at 0x7d1000009cd4 by thread T7:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1000009cd0 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d1000009cc0 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1404, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 1 at 0x7d600002edef by thread T7:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600002ede8 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600002ec00 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1404, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 1 at 0x7d0400009378 by thread T7:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:28 (httpd+0x0000004c7670)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0400009378 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 10 at 0x7d0400009370 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1404, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 1 at 0x7d1c000003e0 by thread T7:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:19 (httpd+0x0000004be84d)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1c000003e0 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 102 at 0x7d1c00000380 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1404, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 1 at 0x7d600002ef68 by thread T7:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_setn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597:14 (libapr-0.so.0+0x0000000254eb)
    #2 ap_add_cgi_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:382:5 (httpd+0x0000005ae1ba)
    #3 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:520 (libphp4.so+0x00000014c68c)
    #4 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600002ef68 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600002ec00 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1404, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597 apr_table_setn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 1 at 0x7d600002eb50 by thread T8:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_setn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597:14 (libapr-0.so.0+0x0000000254eb)
    #2 ap_add_cgi_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:381:5 (httpd+0x0000005ae178)
    #3 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:520 (libphp4.so+0x00000014c68c)
    #4 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600002eb50 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600002e800 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1405, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597 apr_table_setn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x7d200001fe10 by thread T2:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785:49 (httpd+0x0000004c7163)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200001fe10 by thread T5:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200001fe00 allocated by thread T5:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=1398, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=1401, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x7d200001fe18 by thread T2:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786:40 (httpd+0x0000004c721f)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200001fe18 by thread T5:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200001fe00 allocated by thread T5:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=1398, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=1401, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x7d200001fe40 by thread T2:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:28 (httpd+0x0000004c72a8)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200001fe40 by thread T5:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200001fe00 allocated by thread T5:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=1398, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=1401, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x7d0c00026430 by thread T2:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00026430 by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00026430 allocated by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=1398, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=1401, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x7d0c00026438 by thread T2:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00026438 by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00026430 allocated by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=1398, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=1401, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 1 at 0x7d1000005d80 by thread T2:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d1000005d80 by thread T5:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d1000005d80 allocated by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=1398, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=1401, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 1 at 0x7d1000005d81 by thread T2:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x000000028647)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d1000005d81 by thread T5:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d1000005d80 allocated by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=1398, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=1401, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 1 at 0x7d600005fa78 by thread T2:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x00000002870f)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600005fa78 by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600005f800 allocated by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=1398, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=1401, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 1 at 0x7d600009f570 by thread T10:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x0000000287d7)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600009f570 by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600009f400 allocated by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1403, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 1 at 0x7d100001dd82 by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x00000002870f)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d100001dd82 by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d100001dd80 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 1 at 0x7d100001dd97 by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x0000000287d7)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d100001dd97 by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d100001dd80 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x7d2000007e28 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:29 (httpd+0x0000004c737d)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000007e28 by thread T10:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000007e00 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x7d0c00018750 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00018750 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00018750 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x7d0c00018758 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00018758 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00018750 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 1 at 0x7d180006bd19 by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x00000002870f)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d180006bd19 by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d180006bd00 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 1 at 0x7d180006bd1a by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x0000000287d7)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d180006bd1a by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d180006bd00 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x7d2000007e30 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:29 (httpd+0x0000004c7450)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000007e30 by thread T10:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000007e00 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x7d44000139c0 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d44000139c0 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d44000139c0 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x7d44000139c8 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d44000139c8 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d44000139c0 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 1 at 0x7d600002e849 by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600002e849 by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600002e800 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 1 at 0x7d600002e84a by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x000000028647)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600002e84a by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600002e800 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x7d2000007e38 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:29 (httpd+0x0000004c7523)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000007e38 by thread T10:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000007e00 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x7d0400009360 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0400009360 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 16 at 0x7d0400009360 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x7d0400009368 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0400009368 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 16 at 0x7d0400009360 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 1 at 0x7d0800006100 by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0800006100 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 28 at 0x7d0800006100 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x7d3000017ad0 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:49 (httpd+0x0000004c7659)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000017ad0 by thread T10:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:9 (httpd+0x0000004c92ec)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000017ac0 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x7d3000017ae8 by thread T11:
    #0 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:40 (httpd+0x0000004be83c)
    #1 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000017ae8 by thread T10:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:9 (httpd+0x0000004c94cc)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000017ac0 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286 cache_read_entity_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x7d3000017b30 by thread T11:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151:20 (httpd+0x0000004c02f4)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000017b30 by thread T10:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:879:9 (httpd+0x0000004c90a1)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000017ac0 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x7d3000017af0 by thread T11:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151:20 (httpd+0x0000004c0326)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000017af0 by thread T10:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:873:9 (httpd+0x0000004c8f37)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000017ac0 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x7d3000017b28 by thread T11:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:153:44 (httpd+0x0000004c04d5)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000017b28 by thread T10:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:882:9 (httpd+0x0000004c9156)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000017ac0 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:153 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 8 at 0x7d3000017b20 by thread T11:
    #0 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:284:11 (httpd+0x0000004c13b9)
    #1 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #2 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #3 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #4 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #5 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #6 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #7 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #8 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #9 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000017b20 by thread T10:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:885:9 (httpd+0x0000004c920b)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000017ac0 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1408, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1407, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:284 ap_cache_check_freshness
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 1 at 0x7d180012eb88 by thread T3:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_set /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525:14 (libapr-0.so.0+0x000000023e4b)
    #2 php_apache_sapi_header_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:108 (libphp4.so+0x00000014c10b)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d180012eb88 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d180012eb80 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=1399, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=1398, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525 apr_table_set
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 1 at 0x7d600005e59f by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x0000000287d7)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600005e59f by thread T5:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600005e400 allocated by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1403, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=1401, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=1397, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:714:13 (httpd+0x00000057732b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Thread T12 (tid=1409, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=1395)
  Read of size 4 at 0x00000164cc94 by thread T2:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T2 (tid=1398, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=1409, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
==================
WARNING: ThreadSanitizer: thread leak (pid=1395)
  Thread T12 (tid=1409, finished) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: thread leak /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165 apr_thread_create
==================
ThreadSanitizer: reported 52 warnings
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Write of size 4 at 0x7f33424f3044 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f33424f3044 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=1417, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=1416, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Write of size 4 at 0x00000164cc58 by thread T8:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948:9 (httpd+0x000000576c3b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x00000164cc58 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:711:13 (httpd+0x000000577307)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'requests_this_child' of size 4 at 0x00000164cc58 (httpd+0x00000164cc58)

  Thread T8 (tid=1428, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=1432, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948 worker_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x00000164d9d0 by thread T6:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164d9d0 by thread T8:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164d9d0)

  Thread T6 (tid=1426, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1428, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x00000164da00 by thread T6:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164da00 by thread T8:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164da00)

  Thread T6 (tid=1426, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1428, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 4 at 0x7d300001de70 by thread T8 (mutexes: write M11):
    #0 open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588:13 (httpd+0x0000004c5252)
    #1 cache_run_open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:310:1 (httpd+0x0000004be5d9)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:187:23 (httpd+0x0000004bdb34)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7d300001de70 by thread T6:
    #0 write_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016:13 (httpd+0x0000004c869a)
    #1 cache_write_entity_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:272:13 (httpd+0x0000004bea93)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:769:14 (httpd+0x0000004bb237)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300001ddc0 allocated by thread T6:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:651:14 (httpd+0x0000004ba3d2)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Mutex M11 (0x7d90000306a0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 apr_thread_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/thread_mutex.c:91:15 (libapr-0.so.0+0x00000005f508)
    #2 mem_cache_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1079:9 (httpd+0x0000004c4163)
    #3 ap_run_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:128:1 (httpd+0x00000057bfa9)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:649:13 (httpd+0x00000059442e)

  Thread T8 (tid=1428, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1426, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588 open_entity
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x7d2000007ba0 by thread T8:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783:43 (httpd+0x0000004c7012)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000007ba0 by thread T6:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000007b80 allocated by thread T6:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:651:14 (httpd+0x0000004ba3d2)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1428, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1426, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x00000164da10 by thread T2:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164da10 by thread T10:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164da10)

  Thread T2 (tid=1416, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1430, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x00000164da18 by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164da18 by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164da18)

  Thread T2 (tid=1416, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1430, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x00000164da48 by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164da48 by thread T10:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:166:9 (httpd+0x0000005b21e2)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164da48)

  Thread T2 (tid=1416, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1430, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 1 at 0x7d040000ab28 by thread T8:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:28 (httpd+0x0000004c7670)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d040000ab28 by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 10 at 0x7d040000ab20 allocated by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1428, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1426, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 1 at 0x7d1c00003d30 by thread T8:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:19 (httpd+0x0000004be84d)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1c00003d30 by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 102 at 0x7d1c00003cd0 allocated by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1428, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1426, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x7d2000017c08 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784:46 (httpd+0x0000004c70aa)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000017c08 by thread T4:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000017c00 allocated by thread T4:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x7d2000017c10 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785:49 (httpd+0x0000004c7163)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000017c10 by thread T4:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000017c00 allocated by thread T4:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x7d2000017c18 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786:40 (httpd+0x0000004c721f)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000017c18 by thread T4:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000017c00 allocated by thread T4:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x7d2000017c40 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:28 (httpd+0x0000004c72a8)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000017c40 by thread T4:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000017c00 allocated by thread T4:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x7d0c0002c0d0 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c0002c0d0 by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c0002c0d0 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x7d0c0002c0d8 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c0002c0d8 by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c0002c0d0 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 1 at 0x7d1000005d80 by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1000005d80 by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d1000005d80 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 1 at 0x7d1000005daf by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d1000005daf by thread T4:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d1000005d80 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x7d2000017c28 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:29 (httpd+0x0000004c737d)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000017c28 by thread T4:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000017c00 allocated by thread T4:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x7d0c0002bcb0 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c0002bcb0 by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c0002bcb0 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x7d0c0002bcb8 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c0002bcb8 by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c0002bcb0 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 1 at 0x7d180009bca0 by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d180009bca0 by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d180009bca0 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 1 at 0x7d180009bcda by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d180009bcda by thread T4:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d180009bca0 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x7d2000017c30 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:29 (httpd+0x0000004c7450)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000017c30 by thread T4:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000017c00 allocated by thread T4:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x7d440003bec0 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d440003bec0 by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d440003bec0 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x7d440003bec8 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d440003bec8 by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d440003bec0 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 1 at 0x7d600004f800 by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600004f800 by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600004f800 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 1 at 0x7d600004f839 by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600004f839 by thread T4:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600004f800 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 1 at 0x7d600004f83a by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x000000028647)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600004f83a by thread T4:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600004f800 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x00000164cb68 by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 log_request_time /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:549:9 (httpd+0x0000004fa8c7)
    #2 process_item /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:856:12 (httpd+0x0000004f76f3)
    #3 config_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:919:19 (httpd+0x0000004f6e8c)
    #4 multi_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:950:13 (httpd+0x0000004f5b62)
    #5 ap_run_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1563:1 (httpd+0x0000005c9c58)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:312:5 (httpd+0x00000051c336)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164cb68 by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 log_request_time /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:575:13 (httpd+0x0000004face0)
    #2 process_item /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:856:12 (httpd+0x0000004f76f3)
    #3 config_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:919:19 (httpd+0x0000004f6e8c)
    #4 multi_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:950:13 (httpd+0x0000004f5b62)
    #5 ap_run_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1563:1 (httpd+0x0000005c9c58)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:312:5 (httpd+0x00000051c336)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'request_time_cache' of size 160 at 0x00000164caf0 (httpd+0x00000164cb68)

  Thread T2 (tid=1416, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1430, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:549 log_request_time
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 1 at 0x7d600004f99f by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x0000000287d7)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600004f99f by thread T4:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600004f800 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x7d2000017c38 by thread T9:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:29 (httpd+0x0000004c7523)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000017c38 by thread T4:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000017c00 allocated by thread T4:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1429, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x7d04000063e0 by thread T9:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d04000063e0 by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 16 at 0x7d04000063e0 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1429, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x7d04000063e8 by thread T9:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d04000063e8 by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 16 at 0x7d04000063e0 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1429, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 1 at 0x7d0800008260 by thread T9:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0800008260 by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 28 at 0x7d0800008260 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1429, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x7d3000029dd0 by thread T7:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:49 (httpd+0x0000004c7659)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000029dd0 by thread T4:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:9 (httpd+0x0000004c92ec)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000029dc0 allocated by thread T4:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1427, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x7d3000029de8 by thread T7:
    #0 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:40 (httpd+0x0000004be83c)
    #1 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000029de8 by thread T4:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:9 (httpd+0x0000004c94cc)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000029dc0 allocated by thread T4:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1427, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286 cache_read_entity_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 1 at 0x7d1c000192e0 by thread T7:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:19 (httpd+0x0000004be84d)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d1c000192e0 by thread T4:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:901:9 (httpd+0x0000004c95d5)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 102 at 0x7d1c00019280 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1427, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x7d3000029e30 by thread T11:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151:20 (httpd+0x0000004c02f4)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000029e30 by thread T4:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:879:9 (httpd+0x0000004c90a1)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000029dc0 allocated by thread T4:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x7d3000029df0 by thread T11:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151:20 (httpd+0x0000004c0326)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000029df0 by thread T4:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:873:9 (httpd+0x0000004c8f37)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000029dc0 allocated by thread T4:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x7d3000029e28 by thread T11:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:153:44 (httpd+0x0000004c04d5)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000029e28 by thread T4:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:882:9 (httpd+0x0000004c9156)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000029dc0 allocated by thread T4:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:153 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x7d3000029e20 by thread T11:
    #0 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:284:11 (httpd+0x0000004c13b9)
    #1 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #2 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #3 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #4 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #5 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #6 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #7 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #8 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #9 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000029e20 by thread T4:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:885:9 (httpd+0x0000004c920b)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000029dc0 allocated by thread T4:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:284 ap_cache_check_freshness
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 8 at 0x7d600004fb48 by thread T11:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_setn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597:14 (libapr-0.so.0+0x0000000254eb)
    #2 ap_add_cgi_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:381:5 (httpd+0x0000005ae178)
    #3 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:520 (libphp4.so+0x00000014c68c)
    #4 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600004fb48 by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600004f800 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597 apr_table_setn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 1 at 0x7d600004fb88 by thread T11:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_setn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597:14 (libapr-0.so.0+0x0000000254eb)
    #2 ap_add_cgi_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:397:2 (httpd+0x0000005ae449)
    #3 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:520 (libphp4.so+0x00000014c68c)
    #4 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600004fb88 by thread T4:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600004f800 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597 apr_table_setn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 1 at 0x7d180009bce0 by thread T11:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_unset /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666:14 (libapr-0.so.0+0x00000002616d)
    #2 php_apache_request_ctor.isra.1 /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:428 (libphp4.so+0x00000014c48a)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d180009bce0 by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d180009bca0 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666 apr_table_unset
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 1 at 0x7d180009bca8 by thread T11:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_set /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525:14 (libapr-0.so.0+0x000000023e4b)
    #2 php_apache_sapi_header_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:108 (libphp4.so+0x00000014c10b)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d180009bca8 by thread T4:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d180009bca0 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1431, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1418, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525 apr_table_set
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=1414, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:714:13 (httpd+0x00000057732b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Thread T12 (tid=1432, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=1410)
  Read of size 4 at 0x00000164cc94 by thread T10:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T10 (tid=1430, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=1432, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
ThreadSanitizer: reported 50 warnings
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Write of size 4 at 0x7f33424f3054 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f33424f3054 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=1421, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=1419, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x00000164d9d0 by thread T3:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164d9d0 by thread T11:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164d9d0)

  Thread T3 (tid=1421, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1438, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x00000164da00 by thread T3:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164da00 by thread T11:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164da00)

  Thread T3 (tid=1421, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1438, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Write of size 4 at 0x00000164cc58 by thread T9:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948:9 (httpd+0x000000576c3b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x00000164cc58 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:711:13 (httpd+0x000000577307)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'requests_this_child' of size 4 at 0x00000164cc58 (httpd+0x00000164cc58)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=1439, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948 worker_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Write of size 4 at 0x7d3000023e70 by thread T6:
    #0 write_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016:13 (httpd+0x0000004c869a)
    #1 cache_write_entity_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:272:13 (httpd+0x0000004bea93)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:769:14 (httpd+0x0000004bb237)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x7d3000023e70 by thread T3 (mutexes: write M11):
    #0 open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588:13 (httpd+0x0000004c5252)
    #1 cache_run_open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:310:1 (httpd+0x0000004be5d9)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:187:23 (httpd+0x0000004bdb34)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000023dc0 allocated by thread T6:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Mutex M11 (0x7d90000306a0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 apr_thread_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/thread_mutex.c:91:15 (libapr-0.so.0+0x00000005f508)
    #2 mem_cache_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1079:9 (httpd+0x0000004c4163)
    #3 ap_run_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:128:1 (httpd+0x00000057bfa9)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:649:13 (httpd+0x00000059442e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=1421, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016 write_body
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x00000164da10 by thread T7:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164da10 by thread T9:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164da10)

  Thread T7 (tid=1434, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x00000164da40 by thread T7:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164da40 by thread T9:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164da40)

  Thread T7 (tid=1434, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x7d200000fc20 by thread T8:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783:43 (httpd+0x0000004c7012)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200000fc20 by thread T6:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200000fc00 allocated by thread T6:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1435, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 1 at 0x7d600005f9ef by thread T3:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600005f9e8 by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600005f800 allocated by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=1421, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 1 at 0x7d0400004bd8 by thread T3:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:28 (httpd+0x0000004c7670)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0400004bd8 by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 10 at 0x7d0400004bd0 allocated by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=1421, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 1 at 0x7d1c00015ae0 by thread T3:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:19 (httpd+0x0000004be84d)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1c00015ae0 by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 102 at 0x7d1c00015a80 allocated by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=1421, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x7d2000003a08 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784:46 (httpd+0x0000004c70aa)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000003a08 by thread T9:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000003a00 allocated by thread T9:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x7d2000003a10 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785:49 (httpd+0x0000004c7163)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000003a10 by thread T9:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000003a00 allocated by thread T9:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x7d2000003a18 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786:40 (httpd+0x0000004c721f)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000003a18 by thread T9:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000003a00 allocated by thread T9:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x7d2000003a40 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:28 (httpd+0x0000004c72a8)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000003a40 by thread T9:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000003a00 allocated by thread T9:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x7d0c00012990 by thread T6:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00012990 by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00012990 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x7d0c00012998 by thread T6:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00012998 by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00012990 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 1 at 0x7d1000007db1 by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x00000002870f)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d1000007db1 by thread T9:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d1000007d80 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x7d2000003a28 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:29 (httpd+0x0000004c737d)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000003a28 by thread T9:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000003a00 allocated by thread T9:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x7d0c00012d20 by thread T6:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00012d20 by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00012d20 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x7d0c00012d28 by thread T6:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00012d28 by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00012d20 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 1 at 0x7d1800074dd7 by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d1800074dd7 by thread T9:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d1800074dc0 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x7d2000003a30 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:29 (httpd+0x0000004c7450)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000003a30 by thread T9:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000003a00 allocated by thread T9:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x7d4400027b00 by thread T6:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d4400027b00 by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d4400027b00 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x7d4400027b08 by thread T6:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d4400027b08 by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d4400027b00 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 1 at 0x7d18000a4ca8 by thread T11:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_set /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525:14 (libapr-0.so.0+0x000000023e4b)
    #2 php_apache_sapi_header_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:108 (libphp4.so+0x00000014c10b)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d18000a4ca8 by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000a4ca0 allocated by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1438, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525 apr_table_set
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 1 at 0x7d600003edf0 by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x000000028647)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600003edf0 by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600003ec00 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x7d2000003a38 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:29 (httpd+0x0000004c7523)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000003a38 by thread T9:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000003a00 allocated by thread T9:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x7d0400007b80 by thread T6:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0400007b80 by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 16 at 0x7d0400007b80 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x7d0400007b88 by thread T6:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0400007b88 by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 16 at 0x7d0400007b80 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 1 at 0x7d0800003060 by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0800003060 by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 28 at 0x7d0800003060 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x7d3000011b90 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:49 (httpd+0x0000004c7659)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000011b90 by thread T9:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:9 (httpd+0x0000004c92ec)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000011b80 allocated by thread T9:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x7d3000011ba8 by thread T6:
    #0 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:40 (httpd+0x0000004be83c)
    #1 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000011ba8 by thread T9:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:9 (httpd+0x0000004c94cc)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000011b80 allocated by thread T9:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286 cache_read_entity_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x7d3000011bf0 by thread T6:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151:20 (httpd+0x0000004c02f4)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000011bf0 by thread T9:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:879:9 (httpd+0x0000004c90a1)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000011b80 allocated by thread T9:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x7d3000011bb0 by thread T6:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151:20 (httpd+0x0000004c0326)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000011bb0 by thread T9:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:873:9 (httpd+0x0000004c8f37)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000011b80 allocated by thread T9:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x7d3000011be8 by thread T6:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:153:44 (httpd+0x0000004c04d5)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000011be8 by thread T9:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:882:9 (httpd+0x0000004c9156)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000011b80 allocated by thread T9:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:153 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x7d3000011be0 by thread T6:
    #0 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:284:11 (httpd+0x0000004c13b9)
    #1 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #2 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #3 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #4 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #5 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #6 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #7 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #8 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #9 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000011be0 by thread T9:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:885:9 (httpd+0x0000004c920b)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000011b80 allocated by thread T9:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:284 ap_cache_check_freshness
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 1 at 0x7d600003ec09 by thread T6:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 table_mergesort /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063:21 (libapr-0.so.0+0x00000002b600)
    #2 apr_table_compress /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1125:18 (libapr-0.so.0+0x000000029e5f)
    #3 apr_table_overlap /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1244:5 (libapr-0.so.0+0x00000002bcc1)
    #4 ap_add_common_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:320:7 (httpd+0x0000005ad832)
    #5 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:519 (libphp4.so+0x00000014c684)
    #6 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600003ec09 by thread T9:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600003ec00 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063 table_mergesort
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 8 at 0x7d600003ef48 by thread T6:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_setn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597:14 (libapr-0.so.0+0x0000000254eb)
    #2 ap_add_cgi_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:381:5 (httpd+0x0000005ae178)
    #3 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:520 (libphp4.so+0x00000014c68c)
    #4 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600003ef48 by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600003ec00 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597 apr_table_setn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 1 at 0x7d600003ef50 by thread T6:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_setn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597:14 (libapr-0.so.0+0x0000000254eb)
    #2 ap_add_cgi_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:381:5 (httpd+0x0000005ae178)
    #3 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:520 (libphp4.so+0x00000014c68c)
    #4 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600003ef50 by thread T9:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600003ec00 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597 apr_table_setn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 1 at 0x7d600003ef8a by thread T6:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_setn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597:14 (libapr-0.so.0+0x0000000254eb)
    #2 ap_add_cgi_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:397:2 (httpd+0x0000005ae449)
    #3 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:520 (libphp4.so+0x00000014c68c)
    #4 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600003ef8a by thread T9:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600003ec00 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597 apr_table_setn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 1 at 0x7d1800074e00 by thread T6:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_unset /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666:14 (libapr-0.so.0+0x00000002616d)
    #2 php_apache_request_ctor.isra.1 /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:428 (libphp4.so+0x00000014c48a)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d1800074e00 by thread T9:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d1800074dc0 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666 apr_table_unset
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 1 at 0x7d1800074dc9 by thread T6:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_set /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525:14 (libapr-0.so.0+0x000000023e4b)
    #2 php_apache_sapi_header_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:108 (libphp4.so+0x00000014c10b)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d1800074dc9 by thread T9:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d1800074dc0 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1433, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1436, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525 apr_table_set
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=1415, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:714:13 (httpd+0x00000057732b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Thread T12 (tid=1439, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=1412)
  Read of size 4 at 0x00000164cc94 by thread T10:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T10 (tid=1437, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=1439, finished) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
ThreadSanitizer: reported 46 warnings
==================
WARNING: ThreadSanitizer: data race (pid=1440)
  Write of size 4 at 0x7f33424f3064 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f33424f3064 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=1455, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=1452, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=1440)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=1448, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=1440)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:714:13 (httpd+0x00000057732b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Thread T12 (tid=1485, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=1440)
  Read of size 4 at 0x00000164cc94 by thread T2:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T2 (tid=1452, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=1485, finished) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
==================
WARNING: ThreadSanitizer: thread leak (pid=1440)
  Thread T12 (tid=1485, finished) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: thread leak /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165 apr_thread_create
==================
ThreadSanitizer: reported 5 warnings
==================
WARNING: ThreadSanitizer: data race (pid=1441)
  Write of size 4 at 0x7f33424f3074 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f33424f3074 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=1454, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=1453, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=1441)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=1449, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=1441)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:714:13 (httpd+0x00000057732b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Thread T12 (tid=1492, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=1441)
  Write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x00000164cc94 by thread T3:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T12 (tid=1492, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=1454, finished) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861 listener_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=1441)
  Read of size 8 at 0x7d9000068030 by main thread:
    #0 apr_pool_destroy /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/memory/unix/apr_pools.c:759:12 (libapr-0.so.0+0x00000006b4b1)
    #1 clean_child_exit /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:372:9 (httpd+0x000000575123)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1339:5 (httpd+0x00000057508d)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous write of size 8 at 0x7d9000068030 by thread T12 (mutexes: write M7):
    #0 apr_pool_destroy /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/memory/unix/apr_pools.c:777:14 (libapr-0.so.0+0x00000006b661)
    #1 apr_thread_exit /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:192:5 (libapr-0.so.0+0x000000052de7)
    #2 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:867:5 (httpd+0x000000578059)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 8192 at 0x7d9000068000 allocated by main thread:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 allocator_alloc /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/memory/unix/apr_pools.c:331:17 (libapr-0.so.0+0x000000069c39)
    #2 apr_pool_create_ex /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/memory/unix/apr_pools.c:836:17 (libapr-0.so.0+0x00000006ab24)
    #3 ap_core_reorder_directories /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/core.c:613:5 (httpd+0x0000005d0b90)
    #4 ap_fixup_virtual_hosts /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:1825:5 (httpd+0x000000587f3b)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:582:5 (httpd+0x000000593c71)

  Mutex M7 (0x7d900000e370) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 apr_thread_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/thread_mutex.c:91:15 (libapr-0.so.0+0x00000005f508)
    #2 apr_pool_initialize /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/memory/unix/apr_pools.c:570:19 (libapr-0.so.0+0x00000006a84c)
    #3 apr_initialize /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/misc/unix/start.c:93:19 (libapr-0.so.0+0x000000059bae)
    #4 apr_app_initialize /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/misc/unix/start.c:74:12 (libapr-0.so.0+0x000000059b20)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:426:5 (httpd+0x000000592c18)

  Thread T12 (tid=1492, finished) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/memory/unix/apr_pools.c:759 apr_pool_destroy
==================
==================
WARNING: ThreadSanitizer: thread leak (pid=1441)
  Thread T12 (tid=1492, finished) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: thread leak /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165 apr_thread_create
==================
ThreadSanitizer: reported 6 warnings
==================
WARNING: ThreadSanitizer: data race (pid=1444)
  Write of size 4 at 0x7f33424f3084 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f33424f3084 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=1464, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=1461, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=1444)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=1451, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=1444)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:714:13 (httpd+0x00000057732b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Thread T12 (tid=1489, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=1444)
  Read of size 4 at 0x00000164cc94 by thread T2:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T2 (tid=1461, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=1489, finished) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
ThreadSanitizer: reported 4 warnings
==================
WARNING: ThreadSanitizer: data race (pid=1445)
  Write of size 4 at 0x7f33424f3094 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f33424f3094 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=1459, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=1457, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=1445)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=1450, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=1445)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:714:13 (httpd+0x00000057732b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Thread T12 (tid=1499, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=1445)
  Read of size 4 at 0x00000164cc94 by thread T3:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T3 (tid=1459, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=1499, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
ThreadSanitizer: reported 4 warnings
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Write of size 4 at 0x7f33424f3024 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f33424f3024 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=1505, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=1504, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x00000164da90 by thread T11:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164da90 by thread T4:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164da90)

  Thread T11 (tid=1514, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x00000164dac0 by thread T11:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164dac0 by thread T4:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dac0)

  Thread T11 (tid=1514, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Write of size 4 at 0x00000164cc58 by thread T7:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948:9 (httpd+0x000000576c3b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x00000164cc58 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:711:13 (httpd+0x000000577307)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'requests_this_child' of size 4 at 0x00000164cc58 (httpd+0x00000164cc58)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=1515, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948 worker_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x00000164dad8 by thread T5:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164dad8 by thread T7:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dad8)

  Thread T5 (tid=1507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x00000164db08 by thread T5:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164db08 by thread T7:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:166:9 (httpd+0x0000005b21e2)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164db08)

  Thread T5 (tid=1507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x00000164cb40 by thread T5:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 log_request_time /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:549:9 (httpd+0x0000004fa8c7)
    #2 process_item /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:856:12 (httpd+0x0000004f76f3)
    #3 config_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:919:19 (httpd+0x0000004f6e8c)
    #4 multi_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:950:13 (httpd+0x0000004f5b62)
    #5 ap_run_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1563:1 (httpd+0x0000005c9c58)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:312:5 (httpd+0x00000051c336)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164cb40 by thread T7:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 log_request_time /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:575:13 (httpd+0x0000004face0)
    #2 process_item /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:856:12 (httpd+0x0000004f76f3)
    #3 config_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:919:19 (httpd+0x0000004f6e8c)
    #4 multi_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:950:13 (httpd+0x0000004f5b62)
    #5 ap_run_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1563:1 (httpd+0x0000005c9c58)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:312:5 (httpd+0x00000051c336)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'request_time_cache' of size 160 at 0x00000164caf0 (httpd+0x00000164cb40)

  Thread T5 (tid=1507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:549 log_request_time
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 4 at 0x7d3000029e70 by thread T7 (mutexes: write M11):
    #0 open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588:13 (httpd+0x0000004c5252)
    #1 cache_run_open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:310:1 (httpd+0x0000004be5d9)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:187:23 (httpd+0x0000004bdb34)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7d3000029e70 by thread T8:
    #0 write_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016:13 (httpd+0x0000004c869a)
    #1 cache_write_entity_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:272:13 (httpd+0x0000004bea93)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:769:14 (httpd+0x0000004bb237)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000029dc0 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Mutex M11 (0x7d90000306a0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 apr_thread_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/thread_mutex.c:91:15 (libapr-0.so.0+0x00000005f508)
    #2 mem_cache_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1079:9 (httpd+0x0000004c4163)
    #3 ap_run_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:128:1 (httpd+0x00000057bfa9)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:649:13 (httpd+0x00000059442e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588 open_entity
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x7d200002bc20 by thread T7:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783:43 (httpd+0x0000004c7012)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200002bc20 by thread T8:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200002bc00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x7d200002bc08 by thread T7:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784:46 (httpd+0x0000004c70aa)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200002bc08 by thread T8:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200002bc00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x7d200002bc10 by thread T7:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785:49 (httpd+0x0000004c7163)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200002bc10 by thread T8:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200002bc00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x7d200002bc18 by thread T7:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786:40 (httpd+0x0000004c721f)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200002bc18 by thread T8:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200002bc00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x7d200002bc40 by thread T7:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:28 (httpd+0x0000004c72a8)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200002bc40 by thread T8:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200002bc00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x7d0c0002c0d0 by thread T7:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c0002c0d0 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c0002c0d0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x7d0c0002c0d8 by thread T7:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c0002c0d8 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c0002c0d0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 1 at 0x7d1000005d80 by thread T7:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1000005d80 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d1000005d80 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 1 at 0x7d1000005daf by thread T7:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d1000005daf by thread T8:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d1000005d80 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x7d200002bc28 by thread T7:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:29 (httpd+0x0000004c737d)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200002bc28 by thread T8:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200002bc00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x7d0c0002bcb0 by thread T7:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c0002bcb0 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c0002bcb0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x7d0c0002bcb8 by thread T7:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c0002bcb8 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c0002bcb0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 1 at 0x7d180009bca0 by thread T7:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d180009bca0 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d180009bca0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 1 at 0x7d180009bcda by thread T7:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d180009bcda by thread T8:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d180009bca0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x7d200002bc30 by thread T7:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:29 (httpd+0x0000004c7450)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200002bc30 by thread T8:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200002bc00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x7d440003bec0 by thread T7:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d440003bec0 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d440003bec0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x7d440003bec8 by thread T7:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d440003bec8 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d440003bec0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 1 at 0x7d600004f800 by thread T7:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600004f800 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600004f800 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 1 at 0x7d600004f839 by thread T7:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600004f839 by thread T8:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600004f800 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 1 at 0x7d600004f83a by thread T7:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x000000028647)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600004f83a by thread T8:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600004f800 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 1 at 0x7d600004f99f by thread T7:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x0000000287d7)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600004f99f by thread T8:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600004f800 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x7d200002bc38 by thread T7:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:29 (httpd+0x0000004c7523)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200002bc38 by thread T8:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200002bc00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x7d04000063e0 by thread T7:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d04000063e0 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 16 at 0x7d04000063e0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x7d04000063e8 by thread T7:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d04000063e8 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 16 at 0x7d04000063e0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 1 at 0x7d0800004260 by thread T7:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0800004260 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 28 at 0x7d0800004260 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x7d3000029dd0 by thread T7:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:49 (httpd+0x0000004c7659)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000029dd0 by thread T8:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:9 (httpd+0x0000004c92ec)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000029dc0 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x7d04000063d0 by thread T7:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:28 (httpd+0x0000004c7670)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d04000063d0 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 10 at 0x7d04000063d0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x7d3000029de8 by thread T7:
    #0 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:40 (httpd+0x0000004be83c)
    #1 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000029de8 by thread T8:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:9 (httpd+0x0000004c94cc)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000029dc0 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286 cache_read_entity_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 1 at 0x7d600003f428 by thread T11:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 table_mergesort /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063:21 (libapr-0.so.0+0x00000002b600)
    #2 apr_table_compress /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1125:18 (libapr-0.so.0+0x000000029e5f)
    #3 apr_table_overlap /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1244:5 (libapr-0.so.0+0x00000002bcc1)
    #4 ap_add_common_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:320:7 (httpd+0x0000005ad832)
    #5 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:519 (libphp4.so+0x00000014c684)
    #6 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600003f428 by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600003f400 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1514, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063 table_mergesort
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 1 at 0x7d600003fb50 by thread T11:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_setn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597:14 (libapr-0.so.0+0x0000000254eb)
    #2 ap_add_cgi_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:381:5 (httpd+0x0000005ae178)
    #3 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:520 (libphp4.so+0x00000014c68c)
    #4 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600003fb50 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600003f800 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1514, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=1505, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597 apr_table_setn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 1 at 0x7d1000009c97 by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x0000000287d7)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d1000009c97 by thread T3:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d1000009c80 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1509, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=1505, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 1 at 0x7d18000fbbf9 by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x00000002870f)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d18000fbbf9 by thread T3:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000fbbe0 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1509, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=1505, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 1 at 0x7d1c00004200 by thread T10:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:19 (httpd+0x0000004be84d)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1c00004200 by thread T11:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 102 at 0x7d1c000041a0 allocated by thread T11:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1513, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1514, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 1 at 0x7d18000480a0 by thread T7:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_unset /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666:14 (libapr-0.so.0+0x00000002616d)
    #2 php_apache_request_ctor.isra.1 /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:428 (libphp4.so+0x00000014c48a)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d18000480a0 by thread T11:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d1800048060 allocated by thread T11:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1514, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666 apr_table_unset
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 1 at 0x7d180004e01a by thread T8:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x0000000287d7)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d180004e01a by thread T4:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d180004e000 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x7d3000017bf0 by thread T8:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151:20 (httpd+0x0000004c02f4)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000017bf0 by thread T4:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:879:9 (httpd+0x0000004c90a1)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000017b80 allocated by thread T4:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x7d3000017bb0 by thread T8:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151:20 (httpd+0x0000004c0326)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000017bb0 by thread T4:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:873:9 (httpd+0x0000004c8f37)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000017b80 allocated by thread T4:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x7d3000017be8 by thread T8:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:153:44 (httpd+0x0000004c04d5)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000017be8 by thread T4:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:882:9 (httpd+0x0000004c9156)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000017b80 allocated by thread T4:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:153 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x7d3000017be0 by thread T8:
    #0 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:284:11 (httpd+0x0000004c13b9)
    #1 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #2 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #3 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #4 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #5 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #6 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #7 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #8 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #9 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000017be0 by thread T4:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:885:9 (httpd+0x0000004c920b)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000017b80 allocated by thread T4:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:284 ap_cache_check_freshness
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 1 at 0x7d100001db81 by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x000000028647)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d100001db81 by thread T5:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d100001db80 allocated by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1509, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=1507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 1 at 0x7d100001dbb1 by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x00000002870f)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d100001dbb1 by thread T5:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 58 at 0x7d100001db80 allocated by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=1509, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=1507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 1 at 0x7d600001fb68 by thread T10:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_setn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597:14 (libapr-0.so.0+0x0000000254eb)
    #2 ap_add_cgi_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:382:5 (httpd+0x0000005ae1ba)
    #3 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:520 (libphp4.so+0x00000014c68c)
    #4 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600001fb68 by thread T11:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600001f800 allocated by thread T11:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=1513, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1514, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597 apr_table_setn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 1 at 0x7d180009be88 by thread T11:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_set /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525:14 (libapr-0.so.0+0x000000023e4b)
    #2 php_apache_sapi_header_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:108 (libphp4.so+0x00000014c10b)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d180009be88 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d180009be80 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1514, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525 apr_table_set
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 1 at 0x7d600002e56f by thread T4:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x00000002870f)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600002e56f by thread T11:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 919 at 0x7d600002e400 allocated by thread T11:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=1506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=1514, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 1 at 0x7d18000cbcb8 by thread T8:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x000000028647)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d18000cbcb8 by thread T9:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000cbca0 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=1511, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=1512, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x00000164db50 by thread T9:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164db50 by thread T7:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164db50)

  Thread T9 (tid=1512, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 8 at 0x00000164db80 by thread T9:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164db83 by thread T7:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164db80)

  Thread T9 (tid=1512, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=1510, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=1503, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12 (mutexes: write M14):
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:794:14 (httpd+0x0000005779ac)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Mutex M14 (0x7f3342634000) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 proc_mutex_proc_pthread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:388:15 (libapr-0.so.0+0x00000005bacd)
    #2 proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:822:15 (libapr-0.so.0+0x00000005e0a2)
    #3 apr_proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:845:15 (libapr-0.so.0+0x00000005de16)
    #4 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1667:10 (httpd+0x00000056fd47)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Thread T12 (tid=1515, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=1501)
  Read of size 4 at 0x00000164cc94 by thread T9:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T9 (tid=1512, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=1515, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
ThreadSanitizer: reported 58 warnings
